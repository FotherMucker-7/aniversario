<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuestro Primer Año Juntos</title>
    <style>
      /* Variables y reset */
      :root {
        --primary-color: #ff7b9c;
        --secondary-color: #7bc9ff;
        --background-color: #fafafa;
        --text-color: #333;
        --highlight-color: #ffbcd1;
        --shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s ease;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* Contenedor principal */
      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        text-align: center;
        padding: 40px 0;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: var(--primary-color);
      }

      .subtitle {
        font-size: 1.2rem;
        margin-bottom: 30px;
        color: var(--text-color);
        opacity: 0.8;
      }

      /* Estilos para la línea del tiempo */
      .timeline-container {
        position: relative;
        width: 100%;
        margin: 40px 0;
        overflow: hidden;
      }

      /* Línea principal */
      .timeline-line {
        position: absolute;
        background: linear-gradient(
          90deg,
          var(--secondary-color),
          var(--primary-color)
        );
        z-index: 1;
      }

      /* Contenedor de eventos */
      .timeline-events {
        position: relative;
        z-index: 2;
      }

      /* Evento individual */
      .timeline-event {
        position: relative;
        background-color: white;
        border-radius: 12px;
        box-shadow: var(--shadow);
        padding: 20px;
        margin: 20px 0;
        cursor: pointer;
        transition: var(--transition);
      }

      .timeline-event:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
      }

      /* Indicador de fecha */
      .event-date {
        font-size: 0.9rem;
        font-weight: bold;
        color: var(--primary-color);
        margin-bottom: 10px;
      }

      /* Título del evento */
      .event-title {
        font-size: 1.4rem;
        margin-bottom: 10px;
        color: var(--text-color);
      }

      /* Previsualización del evento */
      .event-preview {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      /* Miniatura de imagen */
      .event-thumbnail {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        object-fit: cover;
        transition: var(--transition);
      }

      /* Descripción breve */
      .event-brief {
        flex: 1;
        font-size: 0.95rem;
        color: var(--text-color);
        opacity: 0.9;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
      }

      /* Indicadores de contenido */
      .content-indicators {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      .indicator {
        font-size: 0.8rem;
        padding: 4px 8px;
        border-radius: 20px;
        background-color: var(--highlight-color);
        color: var(--text-color);
      }

      /* Modal para contenido expandido */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 999;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .modal.active {
        display: flex;
        opacity: 1;
      }

      .modal-content {
        background-color: white;
        border-radius: 12px;
        max-width: 90%;
        width: 800px;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        padding: 30px;
      }

      .close-modal {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 1.8rem;
        cursor: pointer;
        color: var(--text-color);
        opacity: 0.6;
        transition: var(--transition);
      }

      .close-modal:hover {
        opacity: 1;
      }

      .modal-header {
        margin-bottom: 20px;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
      }

      .modal-title {
        font-size: 1.8rem;
        color: var(--primary-color);
        margin-bottom: 10px;
      }

      .modal-date {
        font-size: 1rem;
        color: var(--text-color);
        opacity: 0.7;
      }

      .modal-body {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .modal-image {
        width: 100%;
        max-height: 500px;
        object-fit: contain;
        border-radius: 8px;
      }

      .modal-text {
        font-size: 1.1rem;
        line-height: 1.7;
        color: var(--text-color);
      }

      .modal-audio {
        width: 100%;
        margin: 10px 0;
      }

      /* Navegación de la línea del tiempo */
      .timeline-navigation {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 30px 0 20px;
      }

      .nav-btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 1rem;
        transition: var(--transition);
      }

      .nav-btn:hover {
        background-color: var(--secondary-color);
      }

      .nav-btn:disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }

      /* Progress bar - Muestra progreso a través de la línea temporal */
      .progress-container {
        width: 100%;
        background-color: #e0e0e0;
        border-radius: 10px;
        margin: 20px 0;
        height: 8px;
        position: relative;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(
          90deg,
          var(--secondary-color),
          var(--primary-color)
        );
        border-radius: 10px;
        width: 0;
        transition: width 0.5s ease;
      }

      /* Diseño responsive: escritorio (horizontal) */
      @media (min-width: 768px) {
        .timeline-container {
          height: 300px;
        }

        .timeline-line {
          height: 6px;
          width: 100%;
          top: 50%;
          transform: translateY(-50%);
        }

        .timeline-events {
          display: flex;
          overflow-x: auto;
          scroll-behavior: smooth;
          padding: 20px 0;
          gap: 30px;
        }

        .timeline-events::-webkit-scrollbar {
          height: 6px;
        }

        .timeline-events::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 3px;
        }

        .timeline-events::-webkit-scrollbar-thumb {
          background: var(--primary-color);
          border-radius: 3px;
        }

        .timeline-event {
          min-width: 300px;
          max-width: 300px;
          margin: 50px 0;
        }

        /* Alternar eventos arriba y abajo de la línea */
        .timeline-event:nth-child(even) {
          align-self: flex-start;
          margin-top: 0;
          margin-bottom: 100px;
        }

        .timeline-event:nth-child(odd) {
          align-self: flex-end;
          margin-top: 100px;
          margin-bottom: 0;
        }

        /* Conector de la línea al evento */
        .timeline-event::before {
          content: "";
          position: absolute;
          background-color: var(--primary-color);
          width: 2px;
          height: 30px;
          left: 50%;
          z-index: -1;
        }

        .timeline-event:nth-child(even)::before {
          top: -30px;
        }

        .timeline-event:nth-child(odd)::before {
          bottom: -30px;
        }

        /* Punto en la línea temporal */
        .timeline-event::after {
          content: "";
          position: absolute;
          width: 20px;
          height: 20px;
          background-color: white;
          border: 4px solid var(--primary-color);
          border-radius: 50%;
          left: 50%;
          transform: translateX(-50%);
          z-index: 3;
        }

        .timeline-event:nth-child(even)::after {
          top: -42px;
        }

        .timeline-event:nth-child(odd)::after {
          bottom: -42px;
        }
      }

      /* Diseño responsive: móvil (vertical) */
      @media (max-width: 767px) {
        .timeline-container {
          min-height: 500px;
        }

        .timeline-line {
          width: 6px;
          height: 100%;
          left: 20px;
          top: 0;
        }

        .timeline-events {
          padding-left: 50px;
          display: flex;
          flex-direction: column;
        }

        .timeline-event {
          width: calc(100% - 50px);
        }

        /* Conector de la línea al evento */
        .timeline-event::before {
          content: "";
          position: absolute;
          background-color: var(--primary-color);
          width: 30px;
          height: 2px;
          top: 30px;
          left: -30px;
        }

        /* Punto en la línea temporal */
        .timeline-event::after {
          content: "";
          position: absolute;
          width: 20px;
          height: 20px;
          background-color: white;
          border: 4px solid var(--primary-color);
          border-radius: 50%;
          top: 30px;
          left: -42px;
        }

        .modal-content {
          width: 95%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Nuestro Primer Año Juntos</h1>
        <p class="subtitle">Un viaje por nuestros momentos especiales</p>
      </header>

      <!-- Barra de progreso -->
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>

      <!-- Contenedor principal de la línea del tiempo -->
      <div class="timeline-container">
        <div class="timeline-line"></div>
        <div class="timeline-events" id="timelineEvents">
          <!-- Los eventos se generarán dinámicamente con JavaScript -->
        </div>
      </div>

      <!-- Navegación de la línea del tiempo -->
      <div class="timeline-navigation">
        <button class="nav-btn" id="prevBtn">Anterior</button>
        <button class="nav-btn" id="nextBtn">Siguiente</button>
      </div>
    </div>

    <!-- Modal para mostrar el contenido completo -->
    <div class="modal" id="eventModal">
      <div class="modal-content">
        <span class="close-modal" id="closeModal">&times;</span>
        <div class="modal-header">
          <h2 class="modal-title" id="modalTitle">Título del Evento</h2>
          <p class="modal-date" id="modalDate">Fecha del Evento</p>
        </div>
        <div class="modal-body" id="modalBody">
          <!-- El contenido se generará dinámicamente -->
        </div>
      </div>
    </div>

    <script>
      // Datos de ejemplo para la línea del tiempo (esto lo personalizarás con tus propios datos)
      const timelineData = [
        {
          id: 1,
          date: "12 de Mayo, 2024",
          title: "Nuestro primer encuentro",
          brief: "El día que nos conocimos en aquella cafetería...",
          thumbnail: "images/first-meeting.jpg",
          content: {
            text: "Recuerdo perfectamente ese día. Llevabas esa sonrisa que me cautivó desde el primer momento. Hablamos durante horas y sentí una conexión especial que nunca había experimentado antes.",
            images: ["images/first-meeting.jpg", "images/first-meeting-2.jpg"],
            audio: "audio/our-song.mp3",
            emoji: "❤️",
          },
          hasImage: true,
          hasAudio: true,
        },
        {
          id: 2,
          date: "27 de Mayo, 2024",
          title: "Nuestra primera cita oficial",
          brief: "Esa noche en el parque bajo las estrellas...",
          thumbnail: "images/first-date.jpg",
          content: {
            text: "Nuestra primera cita fue mágica. Caminamos por el parque durante horas, compartiendo sueños y descubriendo cuánto teníamos en común. Ese primer beso bajo las estrellas es un recuerdo que guardaré para siempre.",
            images: ["images/first-date.jpg"],
            emoji: "✨",
          },
          hasImage: true,
          hasAudio: false,
        },
        {
          id: 3,
          date: "15 de Junio, 2024",
          title: "Nuestro primer viaje juntos",
          brief: "Ese fin de semana en la playa fue inolvidable...",
          thumbnail: "images/first-trip.jpg",
          content: {
            text: "Nuestro primer viaje juntos a la playa fue una aventura increíble. Descubrimos lugares hermosos, compartimos momentos de risas y conversaciones profundas. Fue durante este viaje que supe que lo nuestro era especial.",
            images: [
              "images/first-trip.jpg",
              "images/first-trip-2.jpg",
              "images/first-trip-3.jpg",
            ],
            audio: "audio/beach-memories.mp3",
            emoji: "🏖️",
          },
          hasImage: true,
          hasAudio: true,
        },
        // Puedes añadir más eventos aquí
      ];

      // Elementos DOM
      const timelineEvents = document.getElementById("timelineEvents");
      const eventModal = document.getElementById("eventModal");
      const closeModal = document.getElementById("closeModal");
      const modalTitle = document.getElementById("modalTitle");
      const modalDate = document.getElementById("modalDate");
      const modalBody = document.getElementById("modalBody");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const progressBar = document.getElementById("progressBar");

      // Generar los eventos en la línea del tiempo
      function generateTimelineEvents() {
        timelineEvents.innerHTML = "";

        timelineData.forEach((event) => {
          const eventElement = document.createElement("div");
          eventElement.className = "timeline-event";
          eventElement.dataset.id = event.id;

          let indicatorsHTML = "";
          if (event.hasImage)
            indicatorsHTML += '<span class="indicator">📷 Foto</span>';
          if (event.hasAudio)
            indicatorsHTML += '<span class="indicator">🎵 Audio</span>';

          eventElement.innerHTML = `
                    <div class="event-date">${event.date}</div>
                    <h3 class="event-title">${event.title}</h3>
                    <div class="event-preview">
                        <img src="${event.thumbnail}" alt="${event.title}" class="event-thumbnail">
                        <p class="event-brief">${event.brief}</p>
                    </div>
                    <div class="content-indicators">
                        ${indicatorsHTML}
                    </div>
                `;

          eventElement.addEventListener("click", () => openModal(event));
          timelineEvents.appendChild(eventElement);
        });

        updateNavButtons();
        updateProgressBar();
      }

      // Abrir el modal con el contenido del evento
      function openModal(event) {
        modalTitle.textContent = event.title;
        modalDate.textContent = event.date;

        let modalContent = "";

        // Contenido de imágenes
        if (event.content.images && event.content.images.length > 0) {
          modalContent += `<img src="${event.content.images[0]}" alt="${event.title}" class="modal-image">`;

          // Si hay más imágenes, añadir galería
          if (event.content.images.length > 1) {
            modalContent += '<div class="image-gallery">';
            event.content.images.slice(1).forEach((img) => {
              modalContent += `<img src="${img}" alt="" class="gallery-thumbnail">`;
            });
            modalContent += "</div>";
          }
        }

        // Contenido de texto
        if (event.content.text) {
          modalContent += `<p class="modal-text">${event.content.text}</p>`;
        }

        // Emoji
        if (event.content.emoji) {
          modalContent += `<div class="modal-emoji">${event.content.emoji}</div>`;
        }

        // Audio
        if (event.content.audio) {
          modalContent += `
                    <div class="modal-audio-container">
                        <h4>Nuestro audio especial:</h4>
                        <audio controls class="modal-audio">
                            <source src="${event.content.audio}" type="audio/mpeg">
                            Tu navegador no soporta el elemento de audio.
                        </audio>
                    </div>
                `;
        }

        modalBody.innerHTML = modalContent;
        eventModal.classList.add("active");

        // Bloquear el scroll del body
        document.body.style.overflow = "hidden";
      }

      // Cerrar el modal
      function closeModalFunc() {
        eventModal.classList.remove("active");
        // Restaurar el scroll del body
        document.body.style.overflow = "auto";
      }

      // Navegación en la línea del tiempo
      function scrollTimeline(direction) {
        const isHorizontal = window.innerWidth >= 768;
        const scrollAmount = isHorizontal ? 350 : 200; // Ajustar según el diseño

        if (isHorizontal) {
          timelineEvents.scrollBy({
            left: direction === "next" ? scrollAmount : -scrollAmount,
            behavior: "smooth",
          });
        } else {
          timelineEvents.scrollBy({
            top: direction === "next" ? scrollAmount : -scrollAmount,
            behavior: "smooth",
          });
        }

        // Actualizar los botones y la barra de progreso después del desplazamiento
        setTimeout(() => {
          updateNavButtons();
          updateProgressBar();
        }, 500);
      }

      // Actualizar el estado de los botones de navegación
      function updateNavButtons() {
        const isHorizontal = window.innerWidth >= 768;

        if (isHorizontal) {
          prevBtn.disabled = timelineEvents.scrollLeft <= 10;
          nextBtn.disabled =
            timelineEvents.scrollLeft + timelineEvents.clientWidth >=
            timelineEvents.scrollWidth - 10;
        } else {
          prevBtn.disabled = timelineEvents.scrollTop <= 10;
          nextBtn.disabled =
            timelineEvents.scrollTop + timelineEvents.clientHeight >=
            timelineEvents.scrollHeight - 10;
        }
      }

      // Actualizar la barra de progreso
      function updateProgressBar() {
        const isHorizontal = window.innerWidth >= 768;

        if (isHorizontal) {
          const scrollPercentage =
            (timelineEvents.scrollLeft /
              (timelineEvents.scrollWidth - timelineEvents.clientWidth)) *
            100;
          progressBar.style.width = `${scrollPercentage}%`;
        } else {
          const scrollPercentage =
            (timelineEvents.scrollTop /
              (timelineEvents.scrollHeight - timelineEvents.clientHeight)) *
            100;
          progressBar.style.width = `${scrollPercentage}%`;
        }
      }

      // Event listeners
      closeModal.addEventListener("click", closeModalFunc);
      prevBtn.addEventListener("click", () => scrollTimeline("prev"));
      nextBtn.addEventListener("click", () => scrollTimeline("next"));

      // Cerrar modal al hacer clic fuera del contenido
      eventModal.addEventListener("click", (e) => {
        if (e.target === eventModal) {
          closeModalFunc();
        }
      });

      // Escuchar eventos de scroll para actualizar la navegación
      timelineEvents.addEventListener("scroll", () => {
        updateNavButtons();
        updateProgressBar();
      });

      // Responsive: actualizar la interfaz al cambiar el tamaño de la ventana
      window.addEventListener("resize", () => {
        updateNavButtons();
        updateProgressBar();
      });

      // Inicializar la línea del tiempo
      document.addEventListener("DOMContentLoaded", () => {
        generateTimelineEvents();
      });
    </script>
  </body>
</html>
